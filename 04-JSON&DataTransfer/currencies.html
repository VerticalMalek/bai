<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
  </head>
  <body>
    <input type="button" value="click to display currencies!" onclick="connect()">
		<p id="currenciesData"></p>
    <script>
      function connect(){

  						var req = new XMLHttpRequest();
  						req.onreadystatechange = function(){display(this);};
  						req.open("GET", "http://api.nbp.pl/api/exchangerates/tables/A/today/?format=json", true);
  						req.send();

  					};
            function display(r){

              if (r.readyState == 4 && r.status == 200) {
                const [{ rates }] = JSON.parse(r.response);
                for (i=0; i < rates.length; i++){
                  if (rates[i].code == "USD") {
                    var dol = rates[i].mid;
                    //console.log(dol);
                }
                  else if (rates[i].code == "EUR") {
                    var eur = rates[i].mid;
                    //console.log(eur);
              }

                else if (rates[i].code == "GBP") {
                  var gbp = rates[i].mid;
                  //console.log(gbp);
            }
          }
          document.getElementById("currenciesData").innerText = "Kurs Dolara: " + dol + "\n Kurs Euro: "+ eur + "\n Kurs GBP: " + gbp;
        };

            };

    </script>
  </body>
</html>
